---
title: "Wind Resource Package"
output: pdf_document
---
### 1. La energía eólica en Argentina
Argentina es reconocida internacionalmente como uno de los países con mayor potencial para el desarrollo eólico. Dominada en su matriz energética eléctrica por la generación convencional fósil, cuenta con posibilidades inigualables en cuanto a recursos eólicos. Posee velocidades medias de viento en la mayor parte de su territorio, que superan los 6 metros por segundo (medidas a 50 metros de altura).  

Actualmente el país cuenta aproximadamente con una potencia instalada a través de energía eólica que representa aproximadamente el 0,4% de la capacidad instalada total.
De acuerdo la Ley 26.190 de energías renovables, para el 2016 se deberá llegar al 8% de la matriz eléctrica con energía renovable. Para poder cumplir con este requerimiento, en el año 2010 se licitaron a través del GENREN alrededor de 900 MW para generación de energías renovables. De este total, 754 MW tendrán como fuente la energía eólica. Teniendo en cuenta que hasta el momento de la licitación, la Argentina solo contaba con 30MW de potencia instalada que utilizaban este tipo de energía, podemos tomar conciencia de la magnitud en el cambio propuesto.

A la hora de proyectar la instalación de parques eólicos, la medición del recurso es uno de los pilares fundamentales para caracterizar un sitio en donde se pretenda instalar una planta de generación de energía eléctrica a través de turbinas de viento. La correcta estimación del potencial eólico de una región es de vital importancia a la hora de evaluar proyectos de inversión y sobre todo solicitar financiamiento para los mismos.

### 2. El paquete WindResource
Para obtener información acerca de las características del viento, se instalan torres de medición con anemómetros y medidores de presión y temperatura. De acuerdo con la norma IEC 61400, los anemómetros deben registrar datos del medio con una frecuencia mínima de 0,5 Hz. Además, a intervalos regulares de tiempo, un data logger almacena los registros de dirección y velocidad de viento (velocidad mínima, máxima, promedio y desvío estándar). Adicionalmente se registran datos ambientales como presión y temperatura. Cada torre de medición puede tener varios anemómetros a distintas alturas para poder registrar los perfiles de vientos.  
Los datos provenientes de los data loggers deben procesarse para poder caracterizar un determinado sitio. Para ello, debemos recurrir a software propietario cuyas licencias tienen un alto costo. Estos softwares permiten, a través de gráficos e indicadores, evaluar tanto las características del viento, como determinar el tipo de aerogenerador necesario y poder estimar la potencia anual estimada.  
El proyecto en el cuál se haya enmarcado el presente trabajo, consiste en desarrollar un software libre de código abierto que permita realizar la caracterización de los sitios a partir de la información de data loggers. Para cumplir con este objetivo, se desarrolló un paquete para el software libre R (www.r-project.org). A este paquete lo hemos llamado WindResource y su primera versión (0.7), puede obtenerse y descargarse de https://github.com/mbonoli/WindResource.  
En el presente trabajo se describen las principales características y funciones de este software.

###3.   Principales funcionalidades

####3.1   Importación de datos 
Antes de comenzar a trabajar con las funciones de WindResource, debemos aplicar un proceso de setup a los datos provenientes del data logger con el objeto ordenar la información disponible en una estructura de datos adecuada y estándar para poder procesarla posteriormente. Esta tarea se realiza a través de la función setwd, que toma los datos del data logger y genera un objeto R (técnicamente una lista), con una estructura estándar utilizan luego las distintas funciones del paquete. Son parámetros de esta función las características de los datos registrados por el data logger, como ser: los nombres de las variables, los formatos de fecha y hora utilizados, los distintos anemómetros y su respectiva altura y las unidades de medida.
La estructura de datos generada por setwd mantiene el intervalo de tiempo de los datos originales, es decir que si lo datos originales tienen una frecuencia de un minuto, el objeto generado para el análisis almacena registros de un minuto. Sin embargo, para la gran mayoría de los análisis requeridos por las normas se utilizan datos 'diezminutales', es decir que cada registro resume la información de 10 minutos. La función genwd10, utiliza los procedimientos indicados por la norma para convertir datos con una frecuencia mayor a diez minutos a datos 'diezminutales'.

#### 3.2   Gráficos y Tablas 

Los distintos gráficos que permiten describir las características del viento en intensidad y dirección, pueden obtenerse mediante el uso de una única función: plotWD. 
El principal parámetro de esta función es type, con el cual se indica el tipo de gráfico deseado. Las tipos disponibles son: 'hist' para histogramas, 'rose' para rosas de vientos, 'box-plot' para gráficos tipo box-plot, 'serie' para series temporales y 'calendar' para gráficos tipo heatmap en calendarios. 
Un segundo parámetros by permite hacer comparaciones para distintos intervalos de tiempo. Admite los valores 'hour', 'month' y 'none'. 
Otro parámetro importante es ane, que se utiliza para indicar que anemómetro queremos graficar. Es posible indicar un solo anemómetro, o mediante un vector, más de un anemómetro.
También se puede seleccionar un rango de fechas mediante los parámetros since y to, indicando fecha de inicio y final respectivamente.
Para el gráfico de rosas de vientos existe un parámetro llamado var que permite seleccionar qué variable de la velocidad del viento deseamos graficar. Las opciones posibles son: 'min' para el mínimo, 'max' para el máximo, 'ave' para el promedio o 'freq' para la frecuencia de ocurrencia.
Por último, el parámetro binwidth que permite modificar el ancho de los intervalos de clase para histogramas.
Un ejemplo de uso posible es:

 
```{r}
library(WindResource)
data(wd10)
plotWD (data = wd10, ane = c('Ane1','Ane2'), 
   var = 'mean', type = 'rose', by = 'hour')   
```
 Fig. 1. Rosa de vientos para las medias de las velocidades de dos anemómetros ubicados a diferentes alturas, y segmentados cada dos horas.
        

Un ejemplo de gráfico tipo 'calendar' es:

```{r}
# plotWD (data = wd10, ane = 'Ane1', type = 'calendar') 
```

 
Fig. 2. Gráfico tipo 'HeatMap' donde la intensidad del azul indica la velocidad promedio diaria del viento.

Muchas veces resulta de utilidad poder acceder a las tablas con la información registrada en los gráficos. Para esto se desarrolló la función tableWD, que posee exactamente los mismos parámetros que plotWD pero que en vez de realizar los gráficos devuelve una tabla con los valores correspondientes. Para el ejemplo anterior de las rosas de viento, el comando y resultados obtenidos son:

```{r}
tableWD (data = wd10, ane = c('Ane1','Ane2'), 
    var = 'mean', type = 'rose', by = 'hour')   
```
Tabla 2. Ejemplo de tabla de velocidades medias de vientos en los diferentes puntos cardinales.


 
Fig. 3. Tabla de velocidades medias por punto cardinal en franjas de 2 horas.


Ajuste de distribuciones. Si la función plotWD es configurada como type = 'fit' se compara el ajuste a la distribución de la velocidad del viento de las distribuciones Weibull, Gamma y LogNormal. Las comparaciones se hacen en forma gráfica (histograma y QQ-plot) y analítica (Loglik y AIC).
El cálculo de los parámetros de las diferentes distribuciones se realiza por máxima verosimilitud.

```{r}
#plotWD(wd10,  ane = 'Ane1', type = 'fit', 
 #      since = ‘2013-01-01’, to = ‘2013-06-30’)
```



 
Fig. 4. Ajuste de las diferentes distribuciones a los datos. En este caso se observa que la distribución de Weibull es la mejor distribución.

#### 3.2   Cálculo de la Potencia Anual Estimada 
Para poder estimar la Potencia anual estimada, es preciso conocer la curva de potencia de los aerogeneradores que se utilizarán. Esta curva de potencia es provista por los fabricantes de los aerogeneradores y relaciona la potencia que produce el molino para cada velocidad de viento. La función plotWTG permite graficar estas curvas de potencias de los diferentes tipos de molinos. Esta información se almacena en un archivo de datos R (técnicamente un data.frame) denominado wtgData y puede ser modificado incluyendo más molinos con sus características.

```{r}
# plotWtg (data = wtgData, Model = "E33")
```



 
Fig. 5. Curva de potencia de un aerogenerador Enercon modelo E33.


La segunda función que compone este módulo se denomina wtgPower y es utilizada para estimar, a partir de las mediciones de las velocidades del viento, la potencia que se obtendría en un año.

```{r}
# wtgPower (data = wd10, ane= "Ane1", 
#     model = c("E33","E48")) 
```




#### 3.4   Interfaz web 
Una de las principales dificultades que presenta el uso del lenguaje R es que no es familiar para la mayoría de los usuarios. Teniendo en cuenta que los potenciales usuarios de la aplicación pueden tener poca experiencia en R, se ha desarrollado una interfaz web utilizando el paquete R Shiny. Esta interfaz permite operar el sistema desde una interfaz web amigable para el usuario no familiarizado con R. 

Para ejecutar esta interfaz gráfico, solo debe ejecutarse el comando runGUI(wd10) y en el navegador del equipo se abre la interfaz lista para operar a través de menús y combos desplegables.

 
Fig. 6. Interfaz web  para el paquete WindResouce .

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
summary(cars)
```

You can also embed plots, for example:

```{r, echo=FALSE}
plot(cars)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

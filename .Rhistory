month = wd$time$month, day = wd$time$day, hour = wd$time$hour, minute = wd$time$minute,
dt = wd$time$dt, Q = wd$time$Q, ave = wd[["ane"]][[i]]$ave, min = wd[["ane"]][[i]]$min,
max = wd[["ane"]][[i]]$max, sd = wd[["ane"]][[i]]$sd, ane = i,
min10 = floor(wd$time$minute/10) + 1, count = 1, dir = wd[["ane"]][[i]]$dir))
}
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
wd10 <- gen10m(wd)
require(plyr)
df <- data.frame()
for (i in wd$ane$ane.names) {
df <- rbind(df, data.frame(year = wd$time$year,
month = wd$time$month, day = wd$time$day, hour = wd$time$hour, minute = wd$time$minute,
dt = wd$time$dt, Q = wd$time$Q, ave = wd[["ane"]][[i]]$ave, min = wd[["ane"]][[i]]$min,
max = wd[["ane"]][[i]]$max, sd = wd[["ane"]][[i]]$sd, ane = i,
min10 = floor(wd$time$minute/10) + 1, count = 1, dir = wd[["ane"]][[i]]$dir))
}
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
wd10 <- gen10m(wd)
head(df)
df.ave <- aggregate(ave ~ ane + year + month + day + hour + min10, data = df,
mean)
df.dt <- aggregate(dt ~ ane + year + month + day + hour + min10, data = df,
min)
df.Nk <- aggregate(ave ~ ane + year + month + day + hour + min10, data = df,
length)
df.min <- aggregate(min ~ ane + year + month + day + hour + min10, data = df,
min)
df.max <- aggregate(max ~ ane + year + month + day + hour + min10, data = df,
max)
df.dir <- aggregate(dir ~ ane + year + month + day + hour + min10, data = df,
mean)
colnames(df.Nk)[7] <- "Nk"
df.ave
colnames(df.Nk)[7] <- "Nk"
colnames(df.ave)[7] <- "ave10"
.df <- join_all(list(df, df.ave, df.Nk), type = "left")
.df$var <- (Ns * (.df$ave - .df$ave10)^2 + (Ns - 1) * (.df$sd)^2)/(.df$Nk *
Ns - 1)
df.sd <- aggregate(var ~ ane + year + month + day + hour + min10, data = .df,
sum)
df.sd$sd <- sqrt(df.sd$var)
df <- join_all(list(df.dt, df.ave, df.min, df.max, df.sd, df.dir, df.Nk), type = "left")
df$minute <- (df$min10 - 1) * 10
df <- df[order(df$ane, df$year, df$month, df$day, df$hour, df$minute), ]
rownames(df) <- NULL
colnames(df)[which(colnames(df) == "ave10")] <- "ave"
result <- list()
ane.names <- unique(df$ane)
result$time <- df[df$ane == ane.names[1], c("dt", "year", "month", "day", "hour",
"minute")]
result$ane <- split(df[, c("ave", "min", "max", "sd")], df$ane)
result$dir <- data.frame(value = df$dir, sect_12 = dir.sector(df$dir, 12),
ang_12 = dir.ang(df$dir, 12), sect_16 = dir.sector(df$dir, 16), ang_16 = dir.ang(df$dir,
16), rose = dir.rose(df$dir))
result$info <- wd$info
class(result) <- "windata"
str(result)
str(wd)
head(df)
i
wd[["ane"]][[i]]$dir
summary()
summary(wd[["ane"]][[i]]$dir)
str(result)
str(wd)
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
wd10 <- gen10m(wd)
df.ave <- aggregate(ave ~ ane + year + month + day + hour + min10, data = df,
mean)
df.dt <- aggregate(dt ~ ane + year + month + day + hour + min10, data = df,
min)
df.Nk <- aggregate(ave ~ ane + year + month + day + hour + min10, data = df,
length)
df.min <- aggregate(min ~ ane + year + month + day + hour + min10, data = df,
min)
df.max <- aggregate(max ~ ane + year + month + day + hour + min10, data = df,
max)
df.dir <- aggregate(dir ~ ane + year + month + day + hour + min10, data = df,
mean)
colnames(df.Nk)[7] <- "Nk"
colnames(df.ave)[7] <- "ave10"
.df <- join_all(list(df, df.ave, df.Nk), type = "left")
.df$var <- (Ns * (.df$ave - .df$ave10)^2 + (Ns - 1) * (.df$sd)^2)/(.df$Nk *
Ns - 1)
df.sd <- aggregate(var ~ ane + year + month + day + hour + min10, data = .df,
sum)
df.sd$sd <- sqrt(df.sd$var)
df <- join_all(list(df.dt, df.ave, df.min, df.max, df.sd, df.dir, df.Nk), type = "left")
df$minute <- (df$min10 - 1) * 10
df <- df[order(df$ane, df$year, df$month, df$day, df$hour, df$minute), ]
rownames(df) <- NULL
colnames(df)[which(colnames(df) == "ave10")] <- "ave"
result <- list()
ane.names <- unique(df$ane)
result$time <- df[df$ane == ane.names[1], c("dt", "year", "month", "day", "hour",
"minute")]
df$sect_12 <- dir.sector(df$dir, 12)
df$ang_12 = dir.ang(df$dir, 12)
df$sect_16 = dir.sector(df$dir, 16)
df$ang_16 = dir.ang(df$dir, 16)
df$rose = dir.rose(df$dir)
result$ane <- split(df[, c("ave", "min", "max", "sd","dir","sect_12","ang_12","sect_16","ang_16","rose")], df$ane)
result$info <- wd$info
class(result) <- "windata"
str(result)
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
wd10 <- gen10m(wd)
df.ave <- aggregate(ave ~ ane + year + month + day + hour + min10, data = df,
mean)
df.dt <- aggregate(dt ~ ane + year + month + day + hour + min10, data = df,
min)
df.Nk <- aggregate(ave ~ ane + year + month + day + hour + min10, data = df,
length)
df.min <- aggregate(min ~ ane + year + month + day + hour + min10, data = df,
min)
df.max <- aggregate(max ~ ane + year + month + day + hour + min10, data = df,
max)
df.dir <- aggregate(dir ~ ane + year + month + day + hour + min10, data = df,
mean)
colnames(df.Nk)[7] <- "Nk"
colnames(df.ave)[7] <- "ave10"
.df <- join_all(list(df, df.ave, df.Nk), type = "left")
.df$var <- (Ns * (.df$ave - .df$ave10)^2 + (Ns - 1) * (.df$sd)^2)/(.df$Nk *
Ns - 1)
df.sd <- aggregate(var ~ ane + year + month + day + hour + min10, data = .df,
sum)
df.sd$sd <- sqrt(df.sd$var)
df <- join_all(list(df.dt, df.ave, df.min, df.max, df.sd, df.dir, df.Nk), type = "left")
df$minute <- (df$min10 - 1) * 10
df <- df[order(df$ane, df$year, df$month, df$day, df$hour, df$minute), ]
rownames(df) <- NULL
colnames(df)[which(colnames(df) == "ave10")] <- "ave"
result <- list()
ane.names <- unique(df$ane)
result$time <- df[df$ane == ane.names[1], c("dt", "year", "month", "day", "hour",
"minute")]
r <- c("N", "NNE", "NE", "ENE", "E", "ESE", "SE", "SSE", "S",
"SSW", "SW", "WSW", "W", "WNW", "NW", "NNW")
df$sect_12 <- floor(df$dir/(360/12)) + 1
df$ang_12 = ((floor(df$dir/(360/12)) + 1) - 1) * 360/12
df$sect_16 = floor(df$dir/(360/16)) + 1
df$ang_16 = (floor(df$dir/(360/16)) + 1) * (360/16)
df$rose = factor(rose_dir[floor(df$dir/(360/16)) + 1], levels = rose_dir)
result$ane <- split(df[, c("ave", "min", "max", "sd","dir","sect_12","ang_12","sect_16","ang_16","rose")], df$ane)
result$info <- wd$info
class(result) <- "windata"
str(result)
str(df)
df$rose = factor(rose_dir[floor(df$dir/(360/16)) + 1], levels = rose_dir)
rose_dir <- c("N", "NNE", "NE", "ENE", "E", "ESE", "SE", "SSE", "S",
"SSW", "SW", "WSW", "W", "WNW", "NW", "NNW")
df$rose = factor(rose_dir[floor(df$dir/(360/16)) + 1], levels = rose_dir)
result$ane <- split(df[, c("ave", "min", "max", "sd","dir","sect_12","ang_12","sect_16","ang_16","rose")], df$ane)
str(result)
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
source('~/Investigacion/Vientos/WindResource/R/gen10m.R')
wd10 <- gen10m(wd)
save(wd, file="~/Investigacion/Vientos/WindResource/data/wd.rda")
save(wd10, file="~/Investigacion/Vientos/WindResource/data/wd10.rda")
shiny::runApp('~/Investigacion/Vientos/WindResource')
wdOlavarria
wdOlavarria$time
str(wdOlavarria$time)
min(wdOlavarria$time$dt)
shiny::runApp('~/Investigacion/Vientos/WindResource')
wdOlavarria[["time"]]$dt
str
min(wdOlavarria[["time"]]$dt)
shiny::runApp('~/Investigacion/Vientos/WindResource')
shiny::runApp('~/Investigacion/Vientos/WindResource')
shiny::runApp('~/Investigacion/Vientos/WindResource')
shiny::runApp('~/Investigacion/Vientos/WindResource')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
shiny::runApp('~/Investigacion/Vientos/WindResource')
str(wd)
shiny::runApp('~/Investigacion/Vientos/WindResource')
paste(c(1,2,3),sep=", ")
paste(c(1,2,3),sep=", ", collapse = T)
paste(c(1,2,3),sep=", ", collapse =)
paste(c(1,2,3),sep=", ", collapse = ",")
paste(c(1,2,3), collapse = ",")
paste(c(1,2,3), collapse = ", ")
shiny::runApp('~/Investigacion/Vientos/WindResource')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
source('~/Investigacion/Vientos/WindResource/R/setWd.R')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
unclass
source('~/Investigacion/Vientos/WindResource/R/setWd.R')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
a <- 2
attr(a,"oo") <- 7
a
a
a[1]
source('~/Investigacion/Vientos/WindResource/R/setWd.R')
source('~/Investigacion/Vientos/WindResource/R/setWd.R')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
source('~/Investigacion/Vientos/WindResource/R/setWd.R')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
source('~/Investigacion/Vientos/WindResource/R/setWd.R')
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Data Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
dataOlavarria <- read.csv("~/Investigacion/Vientos/BD/Olavarria.csv", sep=";")
wdOlavarria <- setWd (dataOlavarria,
name="Datos Olavarría",
date.var = "Fecha",
date.format = "YYYYMMDD",
time.var ="Hora",
time.format = "HHMM",
ane.names = c("Ane1"),
ane.height= NA,
speed.ave.var = "Vel",
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = NA,
speed.unit = NA,
dir.var = "Dir",
dir.unit = "deg",
temp.var = "Temp",
temp.unit = "C",
pres.var = "Pres",
pres.unit = "bar")
str(wdOlavarria)
save(wdOlavarria, file="~/Investigacion/Vientos/WindResource/data/wdOlavarria.rda")
MtTom.0032_1999.12.01_2002.12.31 <- read.csv("~/Investigacion/Vientos/BD/MtTom-0032_1999-12-01_2002-12-31.dat")
MtTom.0032_1999.12.01_2002.12.31$date <- substr(MtTom.0032_1999.12.01_2002.12.31[,1],1,10)
MtTom.0032_1999.12.01_2002.12.31$time <- substr(MtTom.0032_1999.12.01_2002.12.31[,1],12,17)
wdMtTom <- setWd (MtTom.0032_1999.12.01_2002.12.31,
name = "Data MtTom",
date.var = "date",
date.format = "YYYY-MM-DD",
time.var ="time",
time.format = "HH:MM",
ane.names = c("Anem24aMS","Anem24bMS","Anem37aMS","Anem37bMS"),
ane.height= c(24,24,37,37),
speed.ave.var = c("Anem24aMS","Anem24bMS","Anem37aMS","Anem37bMS"),
speed.min.var = NA,
speed.max.var = NA,
speed.sd.var = c("AnemSD24aMS","AnemSD24bMS","AnemSD37aMS","AnemSD37bMS"),
speed.unit = NA,
dir.var = c("Vane24aDEG","Vane24aDEG","Vane37aDEG","Vane37aDEG"),
dir.unit = "deg",
temp.var = "Etmp3aDEGC",
temp.unit = "C",
pres.var = NA,
pres.unit = NA,
NA.values = c(-988, -989, -991, -999))
str(wdMtTom)
save(wdMtTom, file="~/Investigacion/Vientos/WindResource/data/wdMtTom.rda")
data <- read.csv("~/Investigacion/Vientos/BD/INTI/CH1_29072012_f1_V10_V18_Dir.csv")
data$date <- substr(data[,1],1,10)
data$time <- substr(data[,1],12,17)
wd <- setWd (data,
name="Data CCo",
date.var = "date",
date.format = "DD/MM/YYYY",
time.var ="time",
time.format = "HH:MM",
ane.names = c("ane10","ane18"),
ane.height= c(10,18),
speed.ave.var = c("ave1","ave2"),
speed.min.var = c("min1","min2"),
speed.max.var = c("max1","max2"),
speed.sd.var = c("sd1","sd2"),
speed.unit = NA,
dir.var = c("dir","dir"),
dir.unit = "deg",
temp.var = NA,
temp.unit = NA,
pres.var = NA,
pres.unit = NA,
NA.values = NA)
str(wd)
save(wd, file="~/Investigacion/Vientos/WindResource/data/wd.rda")
data(wd)
wd10 <- gen10m(wd)
save(wd10, file="~/Investigacion/Vientos/WindResource/data/wd10.rda")
shiny::runApp('~/Investigacion/Vientos/WindResource')
shiny::runApp('~/Investigacion/Vientos/WindResource')
library(devtools)
install_github("mbonoli/WindResource")
deployApp()
library("shinyapps", lib.loc="~/R/win-library/3.1")
deployApp()
shinyapps::setAccountInfo(
name="mbonoli",
token="C72F985E57E42B7B032C0EBB994A51AD",
secret="kLqNqf1ydCRM9AwspEmKJvL4mORze+CSNH2zM9BK")
deployApp()
deployApp()
install_github( repo = "shinyapps", username="rstudio" )
detach("package:shinyapps", unload=TRUE)
library("shinyapps", lib.loc="~/R/win-library/3.1")
deployApp()
shiny::runApp()
wd
wd$time$dt
year(wd$time$dt)
format(wd$time$dt,"%Y")
unique(format(wd$time$dt,"%Y"))
list(unique(format(wd$time$dt,"%Y")))
split(unique(format(wd$time$dt,"%Y")))
a <- (unique(format(wd$time$dt,"%Y")))
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
str(s)
shiny::runApp()
shiny::runApp()
library(devtools)
library("shinyapps", lib.loc="~/R/win-library/3.1")
deployApp()
install_github("yihui/knitr")
library("shinyapps", lib.loc="~/R/win-library/3.1")
deployApp()
install.packages(c("lpSolve", "shiny"))
library(WindResource)
shiny::runApp()
data(wdOlavarria)
plotWD (data=wdOlavarria, type="fit")
shiny::runApp()
library(WindResource)
shiny::runApp()
library(WindResource)
shiny::runApp()
library(WindResource)
shiny::runApp()
shiny::runApp()
library(WindResource)
shiny::runApp()
shiny::runApp()
library(WindResource)
shiny::runApp()
library(WindResource)
data(wdMtTom)
plotWD(wdMtTom,type="fit")
shiny::runApp()
library(WindResource)
shiny::runApp()
library(WindResource)
data(wdOlavarria)
data(wdMtTom)
source.with.encoding('~/Investigacion/Vientos/WindResource/R/plotWD.R', encoding='UTF-8')
plotWD (data=wdMtTom, type="fit", ane="Anem24aMS")
shiny::runApp()
source.with.encoding('~/Investigacion/Vientos/WindResource/R/tableWD.R', encoding='UTF-8')
shiny::runApp()
library(devtools)
install_github("mbonoli/WindResource")
shiny::runApp()
install.packages("GrapheR")
install.packages("psych")
library("GrapheR", lib.loc="~/R/win-library/3.1")
